# 첫 서비스 배포기

내 서버를 만들고 서비스를 하나 배포했다. AWS 같은 걸 고민했는데 집에 굴러다니는 오래된 컴퓨터를 포맷하고 우분투를 깔았다.

언제 사라질지 모르는 링크. 다양한 플랫폼 요약을 자동으로 모아서 업데이트해주는 것에 의미를 뒀다.

https://vince-convenable-sinistrorsely.ngrok-free.dev/content_viewer 

맥 개발 환경이었기떄문에 그렇게 큰 문제 없이 배포가 가능할줄알았는데, 역시나 문제가 많이 발생해서 꽤 고생했다. 이틀정도 작업 시간을 여기 많이 투자한 듯.

개발환경과 배포환경의 완전한 일치는 인류의 염원으로만 남아있을까?

서비스 환경에 배포는 무조건 도커, 쿠버네티스를 추구한다. 가벼운 앱이라 고민하고 도커 배포로 진행했다.

내 개발 철학을 되돌아보고 다듬어볼 수 있었다.

항상 목표를 크게 세우는 편인데 이번 개발은 0.0.1, 0.0.2 에서 목표를 가볍게 잡고 각 과정을 수행해서 빠르게 끝낼 수 있었다.

개발 과정에서 가장 중시한 건 목적중심, 가변성, 속도였다.

가장 중요한 건 목표다. 목표를 명확하고 짧게 잡았다.

두 번쨰로는 이 코드의 기능을 수정하거나 대체하기 편한가. 외부 환경이 바뀌어도 이 코드는 큰 수정 없이 사용 가능한가. 
그래서 대부분의 기능을 layer를 분리하고 layer 와 layer 는 서로의 내부 상태나 구현은 신경 쓸 필요없게 구현했다.

마지막이 속도다. 1,2 요건이 충족되는 한 무조건 가장 빠르게 구현해볼 수 있는 방식을 선택했다.
예를 들어서 초기 개발 단계에서는 DB연결 레이어를 설계한 뒤 DB는 일단 로컬 duckdb를 사용해서 친구들에게 1차로 공개했다.
이 후 확장성을 고려해서 pg 로 연결했으나 이 과정에서 나는 다른 부분은 전혀 건드리지 않고 DB - DB 레이어 연결만 수정하면 됐다.